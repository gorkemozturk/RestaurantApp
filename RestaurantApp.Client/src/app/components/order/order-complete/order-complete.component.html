<h4>[{{ title | uppercase }}]:  {{ order.orderName | uppercase }}</h4>

<nav aria-label="breadcrumb" class="mb-5">
  <ol class="breadcrumb bg-white p-0">
    <li class="breadcrumb-item"><a class="text-info" routerLink="/">Home</a></li>
    <li class="breadcrumb-item"><a class="text-info" routerLink="/orders">Orders</a></li>
    <li class="breadcrumb-item"><a class="text-info" [routerLink]="['/order/' + order.id + '/view']">{{ order.orderName }}</a></li>
    <li class="breadcrumb-item active" aria-current="page">{{ title }}</li>
  </ol>
</nav>

<a [routerLink]="['/order/' + order.id + '/view']" class="btn btn-outline-secondary btn-sm mb-3">
  <i class="fas fa-chevron-left"></i> Back to the Order
</a>

<div *ngIf="order.isPaid" class="alert alert-info rounded-0" role="alert">
  This <strong>{{ order.orderName }}</strong> alread has been paid. You cannot complete this order again.
</div>

<div *ngIf="!status" class="alert alert-warning rounded-0" role="alert">
  You cannot complete <strong>{{ order.orderName }}</strong>  since it's products are not ready. To complete this order, all product(s) which belongs to the order have to get ready.
</div>

<div *ngIf="!orderProducts.length" class="alert alert-warning rounded-0" role="alert">
  You cannot complete <strong>{{ order.orderName }}</strong> since it is empty.
</div>

<form [formGroup]="form" autocomplete="off">
  <div class="form-group">
    <label>Payment Method</label>
    <select
      class="form-control form-control-sm"
      [ngClass]="{ 'is-invalid': submitted && field.paymentMethodID.errors }"
      [attr.disabled]="order.isPaid || !status || !orderProducts.length ? '' : null"
      formControlName="paymentMethodID">
      <option [value]="method.id" *ngFor="let method of methods">{{ method.name }}</option>
    </select>
    <div *ngIf="submitted && field.paymentMethodID.errors" class="invalid-feedback">
      <div *ngIf="field.paymentMethodID.errors.required">The payment method field is required.</div>
    </div>
  </div>
  <button [disabled]="order.isPaid || !status || !orderProducts.length" class="btn btn-info btn-sm px-5 float-right" (click)="onSubmit(form)">Complete Order for {{ order.total | currency }}</button>
  <button [disabled]="order.isPaid || !status || !orderProducts.length" class="btn btn-secondary btn-sm px-5 float-right mr-2" (click)="reset(form)">Reset</button>
</form>
